@page "/on-this-day"
@inherits MoaComponentBase<OnThisDayPageViewModel>

@{
    var results = ViewModel?.Results;
    if (results == null)
    {
        <CardLoadingComponent/>
    }
    else if (results.Status == -1)
    {
        <CardErrorComponent ErrorMessage="Failed" />
    }
    else
    {
        <OnThisDayHeader HeaderData="@results.Totals" NavigationManager="@NavigationManager"/>

        @foreach (var year in results.DataByYear)
        {
            <OnThisDayHeader HeaderData="@year" NavigationManager="@NavigationManager"/>
        }
    }
}